|newpage|

********
Overview
********

``lib_xua`` contains shared components for use in the `XMOS` USB Audio (XUA) Reference Designs.

These components enable the development of USB Audio devices on the `XMOS xcore` architecture.

This document describes the structure of ``lib_xua``, its use and resources required. It also covers some implementation detail.

This document assumes familiarity with the `XMOS` `xcore` architecture, the Universal Serial Bus 2.0 Specification (and related specifications),
the XMOS tool chain and XC language.

.. table::
 :class: vertical-borders
 :widths: 30 50

 +-------------------------------------------------------------------------------------------------------------------------------------------------+
 |                        **Functionality**                                                                                                        |
 +-------------------------------------------------------------------------------------------------------------------------------------------------+
 +-------------------------------------------------------------------------------------------------------------------------------------------------+
 | Provides USB interface to audio I/O.                                                                                                            |
 |                                                                                                                                                 |
 +-------------------------------------------------------------------------------------------------------------------------------------------------+
 +-------------------------------------------------------------------------------------------------------------------------------------------------+
 |                       **Supported Standards**                                                                                                   |
 +-------------------------------------------------------------------------------------------------------------------------------------------------+
 +---------------------------------+---------------------------------------------------------------------------------------------------------------+
 |   USB                           | USB 2.0 (Full-speed and High-speed)                                                                           |
 |                                 +---------------------------------------------------------------------------------------------------------------+
 |                                 | `USB Audio Class 1.0 <https://www.usb.org/sites/default/files/audio10.pdf>`_                                  |
 |                                 +---------------------------------------------------------------------------------------------------------------+
 |                                 | `USB Audio Class 2.0 <https://www.usb.org/document-library/audio-devices-rev-20-and-adopters-agreement>`_     |
 |                                 +---------------------------------------------------------------------------------------------------------------+
 |                                 | `USB Firmware Upgrade (DFU) 1.1 <http://www.usb.org/sites/default/files/DFU_1.1.pdf>`_                        |
 |                                 +---------------------------------------------------------------------------------------------------------------+
 |                                 | `USB Midi Device Class 1.0 <http://usb.org/sites/default/files/midi10.pdf>`_                                  |
 +---------------------------------+---------------------------------------------------------------------------------------------------------------+
 |   Audio                         |   I2S/TDM (16/32-bit)                                                                                         |
 |                                 +---------------------------------------------------------------------------------------------------------------+
 |                                 |   S/PDIF                                                                                                      |
 |                                 +---------------------------------------------------------------------------------------------------------------+
 |                                 |   ADAT                                                                                                        |
 |                                 +---------------------------------------------------------------------------------------------------------------+
 |                                 |   Direct Stream Digital (DSD)                                                                                 |
 |                                 +---------------------------------------------------------------------------------------------------------------+
 |                                 |   PDM Microphones                                                                                             |
 |                                 +---------------------------------------------------------------------------------------------------------------+
 |                                 |   MIDI                                                                                                        |
 +---------------------------------+---------------------------------------------------------------------------------------------------------------+
 +-------------------------------------------------------------------------------------------------------------------------------------------------+
 |                  **Supported Sample Frequencies**                                                                                               |
 +-------------------------------------------------------------------------------------------------------------------------------------------------+
 +-------------------------------------------------------------------------------------------------------------------------------------------------+
 | 44.1kHz, 48kHz, 88.2kHz, 96kHz, 176.4kHz, 192kHz, 352.8kHz, 384kHz                                                                              |
 +-------------------------------------------------------------------------------------------------------------------------------------------------+
 +-------------------------------------------------------------------------------------------------------------------------------------------------+
 |                             **Supported Devices**                                                                                               |
 +-------------------------------------------------------------------------------------------------------------------------------------------------+
 +---------------------------------+---------------------------------------------------------------------------------------------------------------+
 | XMOS Devices                    | `xcore-200` Series                                                                                            |
 |                                 +---------------------------------------------------------------------------------------------------------------+
 |                                 | `xcore.ai` Series                                                                                             |
 +---------------------------------+---------------------------------------------------------------------------------------------------------------+


.. table::
 :class: vertical-borders
 :widths: 30 50

 +-------------------------------------------------------------------------------------------------------------------------------+
 |                       **Requirements**                                                                                        |
 +-------------------------------------------------------------------------------------------------------------------------------+
 +---------------------------------+---------------------------------------------------------------------------------------------+
 | Development Tools               | XMOS XTC Development Tools (see README for version)                                         |
 +---------------------------------+---------------------------------------------------------------------------------------------+
 | USB                             | `xcore` device with integrated USB phy (external phy not supported)                         |
 +---------------------------------+---------------------------------------------------------------------------------------------+
 | Audio                           | External audio DAC/ADC/CODECs (and required supporting componentry) supporting I2S/TDM      |
 +---------------------------------+---------------------------------------------------------------------------------------------+
 | Boot/Storage                    | Compatible SPI/QSPI Flash device (or `xcore` device with internal flash)                    |
 +---------------------------------+---------------------------------------------------------------------------------------------+
 +-------------------------------------------------------------------------------------------------------------------------------+
 |                       **Licensing and Support**                                                                               |
 +-------------------------------------------------------------------------------------------------------------------------------+
 +-------------------------------------------------------------------------------------------------------------------------------+
 |   Reference code provided without charge under license from XMOS.                                                             |
 +-------------------------------------------------------------------------------------------------------------------------------+
 |   Please visit http://www.xmos.com/support for support.                                                                       |
 +-------------------------------------------------------------------------------------------------------------------------------+
 |   Reference code is maintained by XMOS Limited.                                                                               |
 +-------------------------------------------------------------------------------------------------------------------------------+

